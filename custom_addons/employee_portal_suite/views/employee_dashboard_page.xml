<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="employee_portal_dashboard" name="Employee Dashboard">
        <t t-call="employee_portal_suite.employee_portal_layout">
            <style>
            .dashboard-link {
                text-decoration: none !important;
            }

            .dashboard-card {
                background: white;
                border-radius: 24px;
                padding: 18px;
                height: 140px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                box-shadow: 0 8px 25px rgba(0,0,0,0.05);
                transition: all 0.25s ease;
            }

            .dashboard-card:hover {
                transform: translateY(-6px);
                box-shadow: 0 18px 40px rgba(0,0,0,0.08);
            }

            .card-top {
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .card-icon {
                width: 42px;
                height: 42px;
                border-radius: 14px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 18px;
            }

            .bg-warning-soft {
                background: rgba(245, 158, 11, 0.12);
                color: #F59E0B;
            }

            .card-title {
                font-weight: 600;
                font-size: 14px;
                color: #374151;
            }

            .card-number {
                font-size: 32px;
                font-weight: 700;
                letter-spacing: -1px;
                color: #111827;
            }

            .card-bottom {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .badge-pulse {
                width: 10px;
                height: 10px;
                background: #F59E0B;
                border-radius: 50%;
                animation: pulse 1.5s infinite;
            }

            @keyframes pulse {
                0% { box-shadow: 0 0 0 0 rgba(245,158,11,0.6); }
                70% { box-shadow: 0 0 0 10px rgba(245,158,11,0); }
                100% { box-shadow: 0 0 0 0 rgba(245,158,11,0); }
            }


            </style>
            <div class="row mt-4 g-3">

                    <!-- Employee Requests -->
                    <div class="col-6 col-md-6">
                        <a href="/my/employee/requests" class="text-decoration-none">
                            <div class="card dashboard-card h-100 p-3 d-flex flex-column justify-content-between">

                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="tile-icon bg-primary-soft">
                                        <i class="fa fa-file-text-o"></i>
                                    </div>
                                    <span class="tile-label">Employee</span>
                                </div>

                                <div class="mt-3">
                                    <h2 class="fw-bold mb-0 tile-number">
                                        <t t-esc="my_request_count"/>
                                    </h2>
                                    <small class="text-muted">Requests</small>
                                </div>

                            </div>
                        </a>
                    </div>


                    <!-- Material Requests -->
                    <div class="col-6 col-md-6">
                        <a href="/my/employee/material/approvals" class="dashboard-link">
                            <div class="dashboard-card">

                                <div class="card-top">
                                    <div class="card-icon bg-warning-soft">
                                        <i class="fa fa-cubes"></i>
                                    </div>
                                    <span class="card-title">Material Approvals</span>
                                </div>

                                <div class="card-bottom">
                                    <span class="card-number">
                                        <t t-esc="material_pending_count"/>
                                    </span>

                                    <t t-if="material_pending_count &gt; 0">
                                        <span class="badge-pulse"></span>
                                    </t>
                                </div>

                            </div>
                        </a>
                    </div>


                    <!-- Employee Approvals -->
                    <t t-if="
                        request.env.user.has_group('employee_portal_suite.group_employee_portal_manager')
                        or request.env.user.has_group('employee_portal_suite.group_employee_portal_hr')
                        or request.env.user.has_group('employee_portal_suite.group_employee_portal_finance')
                        or request.env.user.has_group('employee_portal_suite.group_employee_portal_ceo')
                    ">
                        <div class="col-6 col-md-6">
                            <a href="/my/employee/approvals" class="text-decoration-none">
                                <div class="card dashboard-card h-100 text-center p-3">
                                    <h6 class="mb-2 text-warning">Employee Approvals</h6>
                                    <h3 class="fw-bold mb-0 text-warning">
                                        <t t-esc="employee_pending_count"/>
                                    </h3>
                                </div>
                            </a>
                        </div>
                    </t>

                    <!-- Material Approvals -->
                    <t t-if="
                        request.env.user.has_group('employee_portal_suite.group_mr_purchase_rep')
                        or request.env.user.has_group('employee_portal_suite.group_mr_store_manager')
                        or request.env.user.has_group('employee_portal_suite.group_mr_project_manager')
                        or request.env.user.has_group('employee_portal_suite.group_mr_projects_director')
                        or request.env.user.has_group('employee_portal_suite.group_employee_portal_ceo')
                    ">
                        <div class="col-6 col-md-6">
                            <a href="/my/employee/material/approvals" class="text-decoration-none">
                                <div class="card dashboard-card h-100 text-center p-3">
                                    <h6 class="mb-2 text-warning">Material Approvals</h6>
                                    <h3 class="fw-bold mb-0 text-warning">
                                        <t t-esc="material_pending_count"/>
                                    </h3>
                                </div>
                            </a>
                        </div>
                    </t>

                    <!-- Documents to Sign -->
                    <div class="col-6 col-md-6">
                        <a href="/my/employee/sign" class="text-decoration-none">
                            <div class="card dashboard-card h-100 text-center p-3">
                                <h6 class="mb-2 text-muted">Documents to Sign</h6>
                                <h3 class="fw-bold mb-0">
                                    <t t-esc="pending_sign_count"/>
                                </h3>
                            </div>
                        </a>
                    </div>

                </div>



        </t>
    </template>

</odoo>
